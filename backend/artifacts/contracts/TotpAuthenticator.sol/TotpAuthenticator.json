{
  "_format": "hh-sol-artifact-1",
  "contractName": "TotpAuthenticator",
  "sourceName": "contracts/TotpAuthenticator.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "requestor",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "target",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "requestId",
          "type": "uint256"
        }
      ],
      "name": "EventAuthRequest",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "responder",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "requestId",
          "type": "uint256"
        },
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "totp5",
              "type": "uint256"
            },
            {
              "internalType": "bytes32",
              "name": "totp6hash",
              "type": "bytes32"
            },
            {
              "internalType": "uint256",
              "name": "time",
              "type": "uint256"
            }
          ],
          "indexed": false,
          "internalType": "struct AuthData",
          "name": "response",
          "type": "tuple"
        }
      ],
      "name": "EventAuthResponse",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "requestId",
          "type": "uint256"
        },
        {
          "components": [
            {
              "internalType": "bool",
              "name": "isValid",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "time",
              "type": "uint256"
            }
          ],
          "indexed": false,
          "internalType": "struct Authentication",
          "name": "authentication",
          "type": "tuple"
        }
      ],
      "name": "EventAuthValid",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "time",
          "type": "uint256"
        }
      ],
      "name": "EventResetContract",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_requestId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_lastDigit",
          "type": "uint256"
        }
      ],
      "name": "authenticate",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "completedAuth",
      "outputs": [
        {
          "internalType": "bool",
          "name": "isValid",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "time",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_requestId",
          "type": "uint256"
        }
      ],
      "name": "getAuthentication",
      "outputs": [
        {
          "components": [
            {
              "internalType": "bool",
              "name": "isValid",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "time",
              "type": "uint256"
            }
          ],
          "internalType": "struct Authentication",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "requestCounter",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "requests",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "resetAuthenticator",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "responses",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "totp5",
          "type": "uint256"
        },
        {
          "internalType": "bytes32",
          "name": "totp6hash",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "time",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_target",
          "type": "address"
        }
      ],
      "name": "setRequest",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_requestId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_totp5",
          "type": "uint256"
        },
        {
          "internalType": "bytes32",
          "name": "_totp6hash",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "_time",
          "type": "uint256"
        }
      ],
      "name": "setResponse",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b5061001a3361001f565b61006f565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b610be88061007e6000396000f3fe608060405234801561001057600080fd5b50600436106100d45760003560e01c8063973a814e11610081578063ec31fee81161005b578063ec31fee8146101bc578063ed35d7e51461021a578063f2fde38b1461026457600080fd5b8063973a814e1461017f5780639a9124a714610196578063d1316cb4146101a957600080fd5b806384a217d5116100b257806384a217d51461013f5780638da5cb5b146101475780639089add81461016c57600080fd5b806306fad763146100d95780632c6704cf14610122578063715018a614610137575b600080fd5b6101066100e7366004610a27565b6004602052600090815260409020805460019091015460ff9091169082565b6040805192151583526020830191909152015b60405180910390f35b610135610130366004610a40565b610277565b005b610135610317565b61013561032b565b6000546001600160a01b03165b6040516001600160a01b039091168152602001610119565b61015461017a366004610a69565b61036d565b61018860015481565b604051908152602001610119565b6101356101a4366004610a69565b61039b565b6101356101b7366004610a8b565b610598565b61020d6101ca366004610a27565b6040805180820190915260008082526020820152506000908152600460209081526040918290208251808401909352805460ff1615158352600101549082015290565b6040516101199190610abd565b610249610228366004610a27565b60036020526000908152604090208054600182015460029092015490919083565b60408051938452602084019290925290820152606001610119565b610135610272366004610a40565b6107bc565b6001546040805180820182523381526001600160a01b0384166020808301919091526000848152600291829052929092206102b4929091906109ad565b50600180549060006102c583610b07565b9091555050604080513381526001600160a01b03841660208201529081018290527feb47f956e4dfd9149ca54a0238f329e14ab73c8635be018fee3d8363a34e84059060600160405180910390a15050565b61031f61084c565b61032960006108a6565b565b61033361084c565b60006001556040514281527f684456f4f0c93f99a8da9e4e62c26b03076bfacd2f767c1cece6f0bd3f36a2e89060200160405180910390a1565b6002602052816000526040600020816002811061038957600080fd5b01546001600160a01b03169150829050565b6000828152600260205260409020546001600160a01b031633146104065760405162461bcd60e51b815260206004820152601c60248201527f56616c69646174696f6e206f6e6c7920627920726571756573746f720000000060448201526064015b60405180910390fd5b60008281526003602052604090206002015461048a5760405162461bcd60e51b815260206004820152602160248201527f4e6f206175746820726573706f6e73652066726f6d20746869732077616c6c6560448201527f740000000000000000000000000000000000000000000000000000000000000060648201526084016103fd565b6000828152600360209081526040808320815160608101835281548082526001830154948201859052600290920154928101929092529092916104cf91908590610903565b90508061051e5760405162461bcd60e51b815260206004820152601a60248201527f4f6e2d636861696e2076616c69646174696f6e206661696c656400000000000060448201526064016103fd565b6040805180820182528215158152426020808301918252600088815260049091528390208251815460ff1916901515178155905160019091015590517f2dc5fb7f141675a3568a94e4e1387f8155aa2c2433a231e1db85bbd984e7532d906105899087908490610b20565b60405180910390a15050505050565b60015484106105e95760405162461bcd60e51b815260206004820152601260248201527f52657375657374496420746f6f2068696768000000000000000000000000000060448201526064016103fd565b6000848152600260205260409020600101546001600160a01b031633146106785760405162461bcd60e51b815260206004820152602e60248201527f5468697320417574682072657175657374496420646f6573206e6f74206d617460448201527f636820746869732077616c6c657400000000000000000000000000000000000060648201526084016103fd565b600084815260046020526040902060010154156106d75760405162461bcd60e51b815260206004820152601a60248201527f5265717565737420616c726561647920617574686f72697a656400000000000060448201526064016103fd565b600084815260036020526040902054156107335760405162461bcd60e51b815260206004820152601a60248201527f526573706f6e736520616c7265616479207375626d697474656400000000000060448201526064016103fd565b6040805160608082018352858252602080830186815283850186815260008a8152600384528690208551815582516001820155815160029091015585513381529283018a9052845195830195909552519181019190915291516080830152907f0f2a02365bd51cc7313307dfe94d1ff1a4782bc9e6ce928e46a5d6c3685684be9060a001610589565b6107c461084c565b6001600160a01b0381166108405760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201527f646472657373000000000000000000000000000000000000000000000000000060648201526084016103fd565b610849816108a6565b50565b6000546001600160a01b031633146103295760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260448201526064016103fd565b600080546001600160a01b0383811673ffffffffffffffffffffffffffffffffffffffff19831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b6000808361091286600a610b40565b61091c9190610b57565b905082600261092a83610983565b6040516109379190610b6a565b602060405180830381855afa158015610954573d6000803e3d6000fd5b5050506040513d601f19601f820116820180604052508101906109779190610b99565b149150505b9392505050565b60408051602080825281830190925260609160208201818036833750505060208101929092525090565b8260028101928215610a02579160200282015b82811115610a02578251825473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b039091161782556020909201916001909101906109c0565b50610a0e929150610a12565b5090565b5b80821115610a0e5760008155600101610a13565b600060208284031215610a3957600080fd5b5035919050565b600060208284031215610a5257600080fd5b81356001600160a01b038116811461097c57600080fd5b60008060408385031215610a7c57600080fd5b50508035926020909101359150565b60008060008060808587031215610aa157600080fd5b5050823594602084013594506040840135936060013592509050565b81511515815260208083015190820152604081015b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600060018201610b1957610b19610ad8565b5060010190565b8281526060810161097c6020830184805115158252602090810151910152565b8082028115828204841417610ad257610ad2610ad8565b80820180821115610ad257610ad2610ad8565b6000825160005b81811015610b8b5760208186018101518583015201610b71565b506000920191825250919050565b600060208284031215610bab57600080fd5b505191905056fea264697066735822122028fc05422d3e2bb92995d3a1dba8dda4618a546224e8ba051c67edcb7b2e5db664736f6c63430008110033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100d45760003560e01c8063973a814e11610081578063ec31fee81161005b578063ec31fee8146101bc578063ed35d7e51461021a578063f2fde38b1461026457600080fd5b8063973a814e1461017f5780639a9124a714610196578063d1316cb4146101a957600080fd5b806384a217d5116100b257806384a217d51461013f5780638da5cb5b146101475780639089add81461016c57600080fd5b806306fad763146100d95780632c6704cf14610122578063715018a614610137575b600080fd5b6101066100e7366004610a27565b6004602052600090815260409020805460019091015460ff9091169082565b6040805192151583526020830191909152015b60405180910390f35b610135610130366004610a40565b610277565b005b610135610317565b61013561032b565b6000546001600160a01b03165b6040516001600160a01b039091168152602001610119565b61015461017a366004610a69565b61036d565b61018860015481565b604051908152602001610119565b6101356101a4366004610a69565b61039b565b6101356101b7366004610a8b565b610598565b61020d6101ca366004610a27565b6040805180820190915260008082526020820152506000908152600460209081526040918290208251808401909352805460ff1615158352600101549082015290565b6040516101199190610abd565b610249610228366004610a27565b60036020526000908152604090208054600182015460029092015490919083565b60408051938452602084019290925290820152606001610119565b610135610272366004610a40565b6107bc565b6001546040805180820182523381526001600160a01b0384166020808301919091526000848152600291829052929092206102b4929091906109ad565b50600180549060006102c583610b07565b9091555050604080513381526001600160a01b03841660208201529081018290527feb47f956e4dfd9149ca54a0238f329e14ab73c8635be018fee3d8363a34e84059060600160405180910390a15050565b61031f61084c565b61032960006108a6565b565b61033361084c565b60006001556040514281527f684456f4f0c93f99a8da9e4e62c26b03076bfacd2f767c1cece6f0bd3f36a2e89060200160405180910390a1565b6002602052816000526040600020816002811061038957600080fd5b01546001600160a01b03169150829050565b6000828152600260205260409020546001600160a01b031633146104065760405162461bcd60e51b815260206004820152601c60248201527f56616c69646174696f6e206f6e6c7920627920726571756573746f720000000060448201526064015b60405180910390fd5b60008281526003602052604090206002015461048a5760405162461bcd60e51b815260206004820152602160248201527f4e6f206175746820726573706f6e73652066726f6d20746869732077616c6c6560448201527f740000000000000000000000000000000000000000000000000000000000000060648201526084016103fd565b6000828152600360209081526040808320815160608101835281548082526001830154948201859052600290920154928101929092529092916104cf91908590610903565b90508061051e5760405162461bcd60e51b815260206004820152601a60248201527f4f6e2d636861696e2076616c69646174696f6e206661696c656400000000000060448201526064016103fd565b6040805180820182528215158152426020808301918252600088815260049091528390208251815460ff1916901515178155905160019091015590517f2dc5fb7f141675a3568a94e4e1387f8155aa2c2433a231e1db85bbd984e7532d906105899087908490610b20565b60405180910390a15050505050565b60015484106105e95760405162461bcd60e51b815260206004820152601260248201527f52657375657374496420746f6f2068696768000000000000000000000000000060448201526064016103fd565b6000848152600260205260409020600101546001600160a01b031633146106785760405162461bcd60e51b815260206004820152602e60248201527f5468697320417574682072657175657374496420646f6573206e6f74206d617460448201527f636820746869732077616c6c657400000000000000000000000000000000000060648201526084016103fd565b600084815260046020526040902060010154156106d75760405162461bcd60e51b815260206004820152601a60248201527f5265717565737420616c726561647920617574686f72697a656400000000000060448201526064016103fd565b600084815260036020526040902054156107335760405162461bcd60e51b815260206004820152601a60248201527f526573706f6e736520616c7265616479207375626d697474656400000000000060448201526064016103fd565b6040805160608082018352858252602080830186815283850186815260008a8152600384528690208551815582516001820155815160029091015585513381529283018a9052845195830195909552519181019190915291516080830152907f0f2a02365bd51cc7313307dfe94d1ff1a4782bc9e6ce928e46a5d6c3685684be9060a001610589565b6107c461084c565b6001600160a01b0381166108405760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201527f646472657373000000000000000000000000000000000000000000000000000060648201526084016103fd565b610849816108a6565b50565b6000546001600160a01b031633146103295760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260448201526064016103fd565b600080546001600160a01b0383811673ffffffffffffffffffffffffffffffffffffffff19831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b6000808361091286600a610b40565b61091c9190610b57565b905082600261092a83610983565b6040516109379190610b6a565b602060405180830381855afa158015610954573d6000803e3d6000fd5b5050506040513d601f19601f820116820180604052508101906109779190610b99565b149150505b9392505050565b60408051602080825281830190925260609160208201818036833750505060208101929092525090565b8260028101928215610a02579160200282015b82811115610a02578251825473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b039091161782556020909201916001909101906109c0565b50610a0e929150610a12565b5090565b5b80821115610a0e5760008155600101610a13565b600060208284031215610a3957600080fd5b5035919050565b600060208284031215610a5257600080fd5b81356001600160a01b038116811461097c57600080fd5b60008060408385031215610a7c57600080fd5b50508035926020909101359150565b60008060008060808587031215610aa157600080fd5b5050823594602084013594506040840135936060013592509050565b81511515815260208083015190820152604081015b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600060018201610b1957610b19610ad8565b5060010190565b8281526060810161097c6020830184805115158252602090810151910152565b8082028115828204841417610ad257610ad2610ad8565b80820180821115610ad257610ad2610ad8565b6000825160005b81811015610b8b5760208186018101518583015201610b71565b506000920191825250919050565b600060208284031215610bab57600080fd5b505191905056fea264697066735822122028fc05422d3e2bb92995d3a1dba8dda4618a546224e8ba051c67edcb7b2e5db664736f6c63430008110033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
